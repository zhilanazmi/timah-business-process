import { FlowData } from './types';
import { Node } from 'reactflow';

// Parse the exported flow data - using similar structure but with different column headers for Analisa Sampel Rutin
const exportedFlowData = {"nodes":[{"width":169,"height":55,"id":"1","type":"terminatorNode","position":{"x":854.7215599614686,"y":65.70022049652789},"data":{"label":"Start","description":"","column":"pelanggan","details":{"Process Owner":"","Duration":"1-2 days","Input":"Product requirements","Output":"Order form"}},"selected":false,"positionAbsolute":{"x":854.7215599614686,"y":65.70022049652789},"dragging":false},{"width":169,"height":55,"id":"10","type":"terminatorNode","position":{"x":1135.4627470018033,"y":1236.642234163113},"data":{"label":"End","description":"","column":"pelanggan","details":{"Process Owner":"","Duration":"N/A","Input":"Delivered products","Output":"Customer feedback"}},"selected":false,"positionAbsolute":{"x":1135.4627470018033,"y":1236.642234163113},"dragging":false},{"width":196,"height":95,"id":"node-1744269537426","type":"documentNode","position":{"x":842.0459109116797,"y":159.91251710338844},"data":{"label":"Form Serah Terima Sampel","description":"","column":"kolomtiga","link":"","details":{"Process Owner":"","Duration":"","Input":"","Output":""},"width":196,"height":95},"selected":false,"positionAbsolute":{"x":842.0459109116797,"y":159.91251710338844},"dragging":false,"style":{"width":196,"height":95},"resizing":false},{"width":725,"height":95,"id":"node-1744269566708","type":"documentNode","position":{"x":16.121116695025194,"y":159.87224962609696},"data":{"label":"Form Serah Terima Sampel","description":"","column":"kolomdua","link":"","details":{"Process Owner":"","Duration":"","Input":"","Output":""},"width":725,"height":95},"selected":false,"positionAbsolute":{"x":16.121116695025194,"y":159.87224962609696},"dragging":false,"style":{"width":725,"height":95},"resizing":false},{"width":731,"height":95,"id":"node-1744269586628","type":"documentNode","position":{"x":13.089877616596823,"y":298.4033439238419},"data":{"label":"Analisa Sampel","description":"","column":"kolomdua","link":"","details":{"Process Owner":"","Duration":"","Input":"","Output":""},"width":731,"height":95},"selected":false,"positionAbsolute":{"x":13.089877616596823,"y":298.4033439238419},"dragging":false,"style":{"width":731,"height":95},"resizing":false},{"width":740,"height":95,"id":"node-1744269725667","type":"documentNode","position":{"x":8.454559968386093,"y":562.4559350265988},"data":{"label":"Form Checklist Incoming & BQR","description":"","column":"kolomdua","link":"","details":{"Process Owner":"","Duration":"","Input":"","Output":""},"width":740,"height":95},"selected":false,"positionAbsolute":{"x":8.454559968386093,"y":562.4559350265988},"dragging":false,"style":{"width":740,"height":95},"resizing":false},{"width":199,"height":95,"id":"node-1744269831748","type":"documentNode","position":{"x":837.4324881186662,"y":407.3989310231112},"data":{"label":"Form Serah Terima Sampel","description":"","column":"kolomlima","link":"","details":{"Process Owner":"","Duration":"","Input":"","Output":""},"width":199,"height":95},"selected":false,"positionAbsolute":{"x":837.4324881186662,"y":407.3989310231112},"dragging":false,"style":{"width":199,"height":95},"resizing":false},{"width":180,"height":40,"id":"header-kolomsatu-page-1","type":"customNode","position":{"x":10,"y":10},"data":{"label":"Lab Supervisor","isHeader":true,"column":"kolomsatu","color":"#3b82f6"},"draggable":false,"style":{},"positionAbsolute":{"x":10,"y":10},"selected":false},{"width":180,"height":40,"id":"header-kolomdua-page-1","type":"customNode","position":{"x":290,"y":10},"data":{"label":"Lab Foreman","isHeader":true,"column":"kolomdua","color":"#3b82f6"},"draggable":false,"style":{},"positionAbsolute":{"x":290,"y":10},"selected":false},{"width":180,"height":40,"id":"header-kolomtiga-page-1","type":"customNode","position":{"x":570,"y":10},"data":{"label":"Lab Operator","isHeader":true,"column":"kolomtiga","color":"#3b82f6"},"draggable":false,"style":{},"positionAbsolute":{"x":570,"y":10},"selected":false},{"width":180,"height":40,"id":"header-kolomempat-page-1","type":"customNode","position":{"x":850,"y":10},"data":{"label":"QA & QC Supervisor","isHeader":true,"column":"kolomempat","color":"#3b82f6"},"draggable":false,"style":{},"positionAbsolute":{"x":850,"y":10},"selected":false},{"width":180,"height":88,"id":"header-kolomlima-page-1","type":"customNode","position":{"x":1130,"y":10},"data":{"label":"Distribusi & Pengapalan Supervisor","isHeader":true,"column":"kolomlima","color":"#3b82f6"},"draggable":false,"style":{},"positionAbsolute":{"x":1130,"y":10},"selected":false},{"width":454,"height":51,"id":"node-1747359744596","type":"customNode","position":{"x":18.83547708560897,"y":749.8288476993422},"data":{"label":"Pengecekan Hasil Analisa Sampel","description":"","column":"kolomsatu","link":"","details":{"Process Owner":"","Duration":"","Input":"","Output":""}},"selected":false,"positionAbsolute":{"x":18.83547708560897,"y":749.8288476993422},"dragging":false,"style":{"width":454,"height":51},"resizing":false},{"width":180,"height":95,"id":"node-1747359927261","type":"documentNode","position":{"x":-19.44570503146997,"y":1038.9650950816952},"data":{"label":"COA","description":"","column":"kolomsatu","link":"","details":{"Process Owner":"","Duration":"","Input":"","Output":""}},"selected":false,"positionAbsolute":{"x":-19.44570503146997,"y":1038.9650950816952},"dragging":false},{"width":152,"height":51,"id":"node-1747365026717","type":"customNode","position":{"x":860.0000009793137,"y":937.6143398412107},"data":{"label":"Melakukan Validasi","description":"","column":"kolomempat","link":"","details":{"Process Owner":"","Duration":"","Input":"","Output":""}},"selected":false,"positionAbsolute":{"x":860.0000009793137,"y":937.6143398412107},"dragging":false},{"width":180,"height":95,"id":"node-1747365082686","type":"documentNode","position":{"x":1130.0000000000002,"y":1039.0560323309016},"data":{"label":"COA","description":"","column":"kolomlima","link":"","details":{"Process Owner":"","Duration":"","Input":"","Output":""}},"selected":false,"positionAbsolute":{"x":1130.0000000000002,"y":1039.0560323309016},"dragging":false}],"edges":[{"type":"smoothstep","animated":true,"style":{"strokeWidth":2,"stroke":"#555"},"data":{"label":"Hubungan"},"markerEnd":{"type":"arrowclosed","width":20,"height":20,"color":"#555"},"id":"e1-node-1744269537426-1744269839437","source":"1","target":"node-1744269537426","sourceHandle":"bottom-source","targetHandle":"top-target"},{"type":"smoothstep","animated":true,"style":{"strokeWidth":2,"stroke":"#555"},"data":{"label":"Hubungan"},"markerEnd":{"type":"arrowclosed","width":20,"height":20,"color":"#555"},"id":"enode-1744269537426-node-1744269566708-1744269856711","source":"node-1744269537426","target":"node-1744269566708","sourceHandle":"left-source","targetHandle":"right-target"},{"type":"smoothstep","animated":true,"style":{"strokeWidth":2,"stroke":"#555"},"data":{"label":"Hubungan"},"markerEnd":{"type":"arrowclosed","width":20,"height":20,"color":"#555"},"id":"enode-1744269566708-node-1744269586628-1744269862561","source":"node-1744269566708","target":"node-1744269586628","sourceHandle":"bottom-source","targetHandle":"top-target"},{"type":"smoothstep","animated":true,"style":{"strokeWidth":2,"stroke":"#555"},"data":{"label":"Hubungan"},"markerEnd":{"type":"arrowclosed","width":20,"height":20,"color":"#555"},"id":"enode-1744269586628-node-1744269831748-1747359644155","source":"node-1744269586628","target":"node-1744269831748","sourceHandle":"right-source","targetHandle":"top-target"},{"type":"smoothstep","animated":true,"style":{"strokeWidth":2,"stroke":"#555"},"data":{"label":"Hubungan"},"markerEnd":{"type":"arrowclosed","width":20,"height":20,"color":"#555"},"id":"enode-1744269586628-node-1744269725667-1747359706884","source":"node-1744269586628","target":"node-1744269725667","sourceHandle":"bottom-source","targetHandle":"top-target"},{"type":"smoothstep","animated":true,"style":{"strokeWidth":2,"stroke":"#555"},"data":{"label":"Hubungan"},"markerEnd":{"type":"arrowclosed","width":20,"height":20,"color":"#555"},"id":"enode-1744269725667-node-1747359744596-1747364926479","source":"node-1744269725667","target":"node-1747359744596","sourceHandle":"bottom-source","targetHandle":"top"},{"type":"smoothstep","animated":true,"style":{"strokeWidth":2,"stroke":"#555"},"data":{"label":"Hubungan"},"markerEnd":{"type":"arrowclosed","width":20,"height":20,"color":"#555"},"id":"enode-1744269725667-node-1747359927261-1747364964580","source":"node-1744269725667","target":"node-1747359927261","sourceHandle":"bottom-source","targetHandle":"top-target"},{"type":"smoothstep","animated":true,"style":{"strokeWidth":2,"stroke":"#555"},"data":{"label":"Hubungan"},"markerEnd":{"type":"arrowclosed","width":20,"height":20,"color":"#555"},"id":"enode-1744269725667-node-1747365026717-1747365040613","source":"node-1744269725667","target":"node-1747365026717","sourceHandle":"right-source","targetHandle":"top"},{"type":"smoothstep","animated":true,"style":{"strokeWidth":2,"stroke":"#555"},"data":{"label":"Hubungan"},"markerEnd":{"type":"arrowclosed","width":20,"height":20,"color":"#555"},"id":"enode-1747359927261-node-1747365082686-1747365093915","source":"node-1747359927261","target":"node-1747365082686","sourceHandle":"right-source","targetHandle":"left-target"},{"type":"smoothstep","animated":true,"style":{"strokeWidth":2,"stroke":"#555"},"data":{"label":"Hubungan"},"markerEnd":{"type":"arrowclosed","width":20,"height":20,"color":"#555"},"id":"enode-1747365082686-10-1747365130499","source":"node-1747365082686","target":"10","sourceHandle":"bottom-source","targetHandle":"top-target"}],"viewport":{"x":483.06231556145343,"y":19.103963870972848,"zoom":0.35323997653908046}}

// Define columns based on the header nodes
const columns = [
  { id: 'kolomsatu', title: 'Lab Supervisor', color: 'bg-blue-900' },
  { id: 'kolomdua', title: 'Lab Foreman', color: 'bg-blue-900' },
  { id: 'kolomtiga', title: 'Lab Operator', color: 'bg-blue-900' },
  { id: 'kolomempat', title: 'QA & QC Supervisor', color: 'bg-blue-900' },
  { id: 'kolomlima', title: 'Distribusi & Pengapalan Supervisor', color: 'bg-blue-900' }
];

// Extract process nodes (non-header nodes)
const processNodes = exportedFlowData.nodes.filter(node => 
  !node.data.isHeader
);

const analisaSampelRutinFlow: FlowData = {
  id: 'analisa-sampel-rutin',
  title: 'Analisa Sampel Rutin',
  description: 'Alur proses analisa sampel rutin',
  initialColumns: columns,
  defaultPages: [
    {
      id: 'page-1',
      title: 'Alur Utama',
      nodes: processNodes as Node[],
      edges: exportedFlowData.edges
    }
  ]
};

export default analisaSampelRutinFlow;