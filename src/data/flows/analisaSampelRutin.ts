import { FlowData } from './types';
import { Node } from 'reactflow';

// Parse the exported flow data - using similar structure but with different column headers for Analisa Sampel Rutin
const exportedFlowData = {"nodes":[{"width":169,"height":55,"id":"1","type":"terminatorNode","position":{"x":573.721433796635,"y":71.60358449158741},"data":{"label":"Start","description":"","column":"pelanggan","details":{"Process Owner":"","Duration":"1-2 days","Input":"Product requirements","Output":"Order form"}},"selected":false,"positionAbsolute":{"x":573.721433796635,"y":71.60358449158741},"dragging":false},{"width":169,"height":55,"id":"10","type":"terminatorNode","position":{"x":289.4657195461373,"y":1109.633123181126},"data":{"label":"End","description":"","column":"pelanggan","details":{"Process Owner":"","Duration":"N/A","Input":"Delivered products","Output":"Customer feedback"}},"selected":false,"positionAbsolute":{"x":289.4657195461373,"y":1109.633123181126},"dragging":false},{"width":180,"height":40,"id":"header-kolomsatu","type":"customNode","position":{"x":10,"y":10},"data":{"label":"QPP Manager","isHeader":true,"column":"kolomsatu","color":"bg-blue-900"},"draggable":false,"positionAbsolute":{"x":10,"y":10}},{"width":180,"height":40,"id":"header-kolomdua","type":"customNode","position":{"x":290,"y":10},"data":{"label":"PP Supervisor","isHeader":true,"column":"kolomdua","color":"bg-blue-900"},"draggable":false,"positionAbsolute":{"x":290,"y":10}},{"width":180,"height":40,"id":"header-kolomtiga","type":"customNode","position":{"x":570,"y":10},"data":{"label":"Sales","isHeader":true,"column":"kolomtiga","color":"from-green-800 to-green-900"},"draggable":false,"positionAbsolute":{"x":570,"y":10},"selected":true},{"width":180,"height":40,"id":"header-kolomempat","type":"customNode","position":{"x":850,"y":10},"data":{"label":"Lab Supervisor","isHeader":true,"column":"kolomempat","color":"bg-blue-900"},"draggable":false,"positionAbsolute":{"x":850,"y":10}},{"width":180,"height":64,"id":"header-kolomlima","type":"customNode","position":{"x":1130,"y":10},"data":{"label":"Warehouse Supervisor","isHeader":true,"column":"kolomlima","color":"bg-blue-900"},"draggable":false,"positionAbsolute":{"x":1130,"y":10}},{"width":180,"height":95,"id":"node-1744269537426","type":"documentNode","position":{"x":568.1298215409174,"y":166.99655389745988},"data":{"label":"Booking Note","description":"","column":"kolomtiga","link":"","details":{"Process Owner":"","Duration":"","Input":"","Output":""}},"selected":false,"positionAbsolute":{"x":568.1298215409174,"y":166.99655389745988},"dragging":false},{"width":180,"height":95,"id":"node-1744269566708","type":"documentNode","position":{"x":285.79312362838334,"y":167.31002194586688},"data":{"label":"Booking Note","description":"","column":"kolomdua","link":"","details":{"Process Owner":"","Duration":"","Input":"","Output":""}},"selected":false,"positionAbsolute":{"x":285.79312362838334,"y":167.31002194586688},"dragging":false},{"width":180,"height":95,"id":"node-1744269586628","type":"documentNode","position":{"x":285.79312362838334,"y":291.51689831748354},"data":{"label":"Draft MPS","description":"","column":"kolomdua","link":"","details":{"Process Owner":"","Duration":"","Input":"","Output":""}},"selected":false,"positionAbsolute":{"x":285.79312362838334,"y":291.51689831748354},"dragging":false},{"width":150,"height":100,"id":"node-1744269602427","type":"diamondNode","position":{"x":8.948280907095821,"y":398.68822238478424},"data":{"label":"Verifikasi","description":"","column":"kolomsatu","link":"","details":{"Process Owner":"","Duration":"","Input":"","Output":""}},"selected":false,"positionAbsolute":{"x":8.948280907095821,"y":398.68822238478424},"dragging":false},{"width":175,"height":51,"id":"node-1744269635062","type":"customNode","position":{"x":286.3829796411848,"y":476.62050780924267},"data":{"label":"Monitoring rencana forecast pemasaran dan aktual stock di gudang","description":"","column":"kolomdua","link":"","details":{"Process Owner":"","Duration":"","Input":"","Output":""}},"selected":false,"dragging":false,"style":{"width":175,"height":51},"resizing":false,"positionAbsolute":{"x":286.3829796411848,"y":476.62050780924267}},{"width":148,"height":51,"id":"node-1744269664969","type":"customNode","position":{"x":860.8803724844981,"y":506.53809925105463},"data":{"label":"Input Master BOM","description":"","column":"kolomempat","link":"","details":{"Process Owner":"","Duration":"","Input":"","Output":""}},"selected":false,"positionAbsolute":{"x":860.8803724844981,"y":506.53809925105463},"dragging":false},{"width":171,"height":51,"id":"node-1744269693641","type":"customNode","position":{"x":286.4982572346166,"y":678.4082974954833},"data":{"label":"Membuat Perencanaan PRO","description":"","column":"kolomdua","link":"","details":{"Process Owner":"","Duration":"","Input":"","Output":""}},"selected":false,"dragging":false,"style":{"width":171,"height":51},"resizing":false,"positionAbsolute":{"x":286.4982572346166,"y":678.4082974954833}},{"width":180,"height":95,"id":"node-1744269725667","type":"documentNode","position":{"x":281.82519635397057,"y":800.5529409108177},"data":{"label":"PRO","description":"","column":"kolomdua","link":"","details":{"Process Owner":"","Duration":"","Input":"","Output":""}},"selected":false,"positionAbsolute":{"x":281.82519635397057,"y":800.5529409108177},"dragging":false},{"width":150,"height":100,"id":"node-1744269740664","type":"diamondNode","position":{"x":5.254562238495609,"y":869.7261056829368},"data":{"label":"Verifikasi","description":"","column":"kolomsatu","link":"","details":{"Process Owner":"","Duration":"","Input":"","Output":""}},"selected":false,"positionAbsolute":{"x":5.254562238495609,"y":869.7261056829368},"dragging":false},{"width":180,"height":95,"id":"node-1744269793540","type":"documentNode","position":{"x":284.2099187605387,"y":966.3680165838239},"data":{"label":"PRO Dikirimkan ke SPV Tin Intermediate, Stabilizer, dan Solder","description":"","column":"kolomdua","link":"","details":{"Process Owner":"","Duration":"","Input":"","Output":""}},"selected":false,"positionAbsolute":{"x":284.2099187605387,"y":966.3680165838239},"dragging":false},{"width":180,"height":95,"id":"node-1744269831748","type":"documentNode","position":{"x":1125.9475203098652,"y":291.5917060286865},"data":{"label":"Laporan Stock Bahan","description":"","column":"kolomlima","link":"","details":{"Process Owner":"","Duration":"","Input":"","Output":""}},"selected":false,"positionAbsolute":{"x":1125.9475203098652,"y":291.5917060286865},"dragging":false}],"edges":[{"type":"smoothstep","animated":true,"style":{"strokeWidth":2,"stroke":"#555"},"data":{"label":"Hubungan"},"markerEnd":{"type":"arrowclosed","width":20,"height":20,"color":"#555"},"id":"e1-node-1744269537426-1744269839437","source":"1","target":"node-1744269537426","sourceHandle":"bottom-source","targetHandle":"top-target"},{"type":"smoothstep","animated":true,"style":{"strokeWidth":2,"stroke":"#555"},"data":{"label":"Hubungan"},"markerEnd":{"type":"arrowclosed","width":20,"height":20,"color":"#555"},"id":"enode-1744269537426-node-1744269566708-1744269856711","source":"node-1744269537426","target":"node-1744269566708","sourceHandle":"left-source","targetHandle":"right-target"},{"type":"smoothstep","animated":true,"style":{"strokeWidth":2,"stroke":"#555"},"data":{"label":"Hubungan"},"markerEnd":{"type":"arrowclosed","width":20,"height":20,"color":"#555"},"id":"enode-1744269566708-node-1744269586628-1744269862561","source":"node-1744269566708","target":"node-1744269586628","sourceHandle":"bottom-source","targetHandle":"top-target"},{"type":"smoothstep","animated":true,"style":{"strokeWidth":2,"stroke":"#555"},"data":{"label":"Hubungan"},"markerEnd":{"type":"arrowclosed","width":20,"height":20,"color":"#555"},"id":"enode-1744269586628-node-1744269602427-1744269877449","source":"node-1744269586628","target":"node-1744269602427","sourceHandle":"left-source","targetHandle":"top-target"},{"type":"smoothstep","animated":true,"style":{"strokeWidth":2,"stroke":"#555"},"data":{"label":"Hubungan"},"markerEnd":{"type":"arrowclosed","width":20,"height":20,"color":"#555"},"id":"enode-1744269602427-node-1744269586628-1744269881253","source":"node-1744269602427","target":"node-1744269586628","sourceHandle":"right-source","targetHandle":"bottom-target"},{"type":"smoothstep","animated":true,"style":{"strokeWidth":2,"stroke":"#555"},"data":{"label":"Hubungan"},"markerEnd":{"type":"arrowclosed","width":20,"height":20,"color":"#555"},"id":"enode-1744269602427-node-1744269635062-1744269896564","source":"node-1744269602427","target":"node-1744269635062","sourceHandle":"bottom-source","targetHandle":"left"},{"type":"smoothstep","animated":true,"style":{"strokeWidth":2,"stroke":"#555"},"data":{"label":"Hubungan"},"markerEnd":{"type":"arrowclosed","width":20,"height":20,"color":"#555"},"id":"enode-1744269635062-node-1744269664969-1744269916784","source":"node-1744269635062","target":"node-1744269664969","sourceHandle":"right","targetHandle":"left"},{"type":"smoothstep","animated":true,"style":{"strokeWidth":2,"stroke":"#555"},"data":{"label":"Hubungan"},"markerEnd":{"type":"arrowclosed","width":20,"height":20,"color":"#555"},"id":"enode-1744269664969-node-1744269693641-1744269964466","source":"node-1744269664969","target":"node-1744269693641","sourceHandle":"bottom","targetHandle":"top"},{"type":"smoothstep","animated":true,"style":{"strokeWidth":2,"stroke":"#555"},"data":{"label":"Hubungan"},"markerEnd":{"type":"arrowclosed","width":20,"height":20,"color":"#555"},"id":"enode-1744269693641-node-1744269725667-1744269983168","source":"node-1744269693641","target":"node-1744269725667","sourceHandle":"bottom","targetHandle":"top-target"},{"type":"smoothstep","animated":true,"style":{"strokeWidth":2,"stroke":"#555"},"data":{"label":"Hubungan"},"markerEnd":{"type":"arrowclosed","width":20,"height":20,"color":"#555"},"id":"enode-1744269725667-node-1744269740664-1744270025677","source":"node-1744269725667","target":"node-1744269740664","sourceHandle":"left-source","targetHandle":"top-target"},{"type":"smoothstep","animated":true,"style":{"strokeWidth":2,"stroke":"#555"},"data":{"label":"Hubungan"},"markerEnd":{"type":"arrowclosed","width":20,"height":20,"color":"#555"},"id":"enode-1744269740664-node-1744269793540-1744270045939","source":"node-1744269740664","target":"node-1744269793540","sourceHandle":"bottom-source","targetHandle":"left-target"},{"type":"smoothstep","animated":true,"style":{"strokeWidth":2,"stroke":"#555"},"data":{"label":"Hubungan"},"markerEnd":{"type":"arrowclosed","width":20,"height":20,"color":"#555"},"id":"enode-1744269793540-10-1744270050661","source":"node-1744269793540","target":"10","sourceHandle":"bottom-source","targetHandle":"top-target"},{"type":"smoothstep","animated":true,"style":{"strokeWidth":2,"stroke":"#555"},"data":{"label":"Hubungan"},"markerEnd":{"type":"arrowclosed","width":20,"height":20,"color":"#555"},"id":"enode-1744269831748-node-1744269586628-1744270226222","source":"node-1744269831748","target":"node-1744269586628","sourceHandle":"left-source","targetHandle":"right-target"}],"viewport":{"x":227.74144467353221,"y":-10.186196210927278,"zoom":0.7260639647517882}}

// Define columns based on the header nodes
const columns = [
  { id: 'kolomsatu', title: 'QPP Manager', color: 'bg-blue-900' },
  { id: 'kolomdua', title: 'PP Supervisor', color: 'bg-blue-900' },
  { id: 'kolomtiga', title: 'Sales Admin', color: 'bg-blue-900' },
  { id: 'kolomempat', title: 'Lab Supervisor', color: 'bg-blue-900' },
  { id: 'kolomlima', title: 'Warehouse Supervisor', color: 'bg-blue-900' }
];

// Extract process nodes (non-header nodes)
const processNodes = exportedFlowData.nodes.filter(node => 
  !node.data.isHeader
);

const analisaSampelRutinFlow: FlowData = {
  id: 'analisa-sampel-rutin',
  title: 'Analisa Sampel Rutin',
  description: 'Alur proses analisa sampel rutin',
  initialColumns: columns,
  defaultPages: [
    {
      id: 'page-1',
      title: 'Alur Utama',
      nodes: processNodes as Node[],
      edges: exportedFlowData.edges
    }
  ]
};

export default analisaSampelRutinFlow;